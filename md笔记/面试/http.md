# Http协议

- <https://vue3js.cn/interview/http/HTTP_HTTPS.html>
- https代理的实现
  - 自定义证书，所以需要客户端自己认证。
    - IOS允许使用自定义证书，
    - 安卓高版本应用可以自定‘【义设置不允许使用自定义证书，此时就无法实现https的代理
  - 和客户端通过自己的证书通信
  - 和服务端用服务端的证书通信
  - 这样就可以拦截https和解析请求了
- https和http怎么实现安全性的 (TODO 理解的不是很透彻)
  - <https://vue3js.cn/interview/http/HTTPS.html>
  - 对称加密：采用协商的密钥对数据加密
  - 非对称加密：实现身份认证和密钥协商
  - 摘要算法：验证信息的完整性
  - 数字签名：身份验证
- 三次握手
  - 客服端发送
  - 服务端接收，测试客服端接收能力
  - 客户端接受，发送信号。
- 四次挥手
  - 客户端，我要断开了
  - 服务端，收到，我确认下，发给你的数据处理完了没
  - 服务端，我处理完了，可以关闭
  - 客户端，我关闭了，服务端收到之后，关闭

## https

- http
  - HTTP + tcp + ip
- https
  - http + SSL|TLS + tcp + ip
  - 设计原理
    - 对成加密加密性能高
    - 非对称加密安全
    - 摘要算法保证数据完成
    - 证书保证公钥的可信

https数据传输过程:

- 客户端发起请求
- 服务端收到，并返回证书证书和加密算法
- 客户端收到证书，
  - 验证证书有效性
  - 利用数字签名验证数据没被修改
  - 生成对称密钥发送给服务端
  - 后续就可以愉快的用秘钥加密数据传输了

## websocket

websocket 和http有部分交集

只是tcp连接建立之后就不断开了。
