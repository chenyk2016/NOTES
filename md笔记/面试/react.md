# react

## TODO

- diff机制
- 声明周期
- hooks优点、原理

## 优点

- 声明式编程:
  - 声明式编程是一种编程范式，它关注的是你要做什么，而不是如何做
  - 例如定义一个banner。`const banner = <div classname="banner"></div>`
- 单向数据流
  - 安全
- jsx
  - 灵活
- 虚拟dom
  - 高效
- Component
  - 一切皆可组件，通常将整个模块拆分成小的单元部分，称之为组件。

## 虚拟dom和真实dom的区别

- 本质上是以javascript形式存在的，对真实dom的描述
- 虚拟dom不会进行排版与重绘，而真实DOM会

优点:

- 简单方便: 直接操作js, 相对于操作dom，简单方便
- 性能高: 避免频繁的排版和重绘，性能高。
- 跨平台: 借助虚拟dom可以实现跨平台的能力

缺点:

- 在一些性能要求极高的场景，虚拟dom无法针对性的极致优化？？
- 首次渲染大量dom，由于多一层虚拟dom的计算，虚度稍微慢点。

## setState的执行机制

- react必须通过setState的调用来告知react的state发生了变化
- setState有同步更新和异步更新两种机制
  - 同步更新: 在异步事件中的调用，都会变成同步更新
  - 异步更新: 其他情况是异步更新的，有批量更新机制

## hooks优点

优点:

- 重用和共享组件的状态
- 避免声明周期中包含很多不相关的逻辑
- 避免，由于业务变动，函数组件不得不改为类组件等等

## hooks原理

<https://juejin.cn/post/6944863057000529933>

- react用什么记录hooks的状态。
  - 全局变量
- 怎么记录hooks的状态
  - 用数组
- useState和setState的区别
- react怎么捕获hooks的执行上下文
- 为什么useRef不需要依赖注入就能访问到最新的改变值
- useMemo怎么对值进行缓存的，如何优化它的性能
- 为什么传入两次useState的值相同，函数组件不更新

## react事件机制
